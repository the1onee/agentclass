# نظام إدارة المندوب - تطبيق إدارة الموانئ والشحن

## نظرة عامة
هذا التطبيق هو نظام شامل لإدارة عمليات الموانئ والشحن مطور باستخدام Django. يهدف التطبيق إلى تبسيط وتنظيم إدارة الحاويات، أذونات التسليم، الشاحنات، السائقين، والرحلات في بيئة المندوبين والموانئ.

## الميزات الرئيسية

### 1. نظام إدارة المستخدمين
- **أنواع المستخدمين**: مندوب، مشرف، مدير
- **نظام اشتراكات**: تحكم في الوصول للخدمات حسب حالة الاشتراك
- **تسجيل دخول برقم الهاتف**: بدلاً من اسم المستخدم التقليدي
- **صلاحيات مختلفة**: حسب نوع المستخدم ومدة الاشتراك

### 2. إدارة أذونات التسليم (Delivery Orders)
- **إنشاء أذونات التسليم**: مع تفاصيل كاملة كرقم الإذن وتاريخ الإصدار والانتهاء
- **حالات مختلفة**: تحميل، فارغ، بضائع عامة، تجزئة
- **ربط الحاويات**: إمكانية ربط عدة حاويات بإذن واحد
- **تتبع شامل**: لجميع الأذونات وحالاتها

### 3. إدارة الحاويات (Containers)
- **أنواع متعددة**: 20 قدم عادي/مبرد، 40 قدم عادي/مبرد، صهريج
- **تتبع الحالة**: ربط كل حاوية بحالة معينة (تحميل، فارغ، إلخ)
- **ربط بالسائقين والشاحنات**: لتتبع المسؤوليات
- **وزن ووصف المحتويات**: تفاصيل شاملة لكل حاوية

### 4. إدارة الشاحنات (Trucks)
- **أنواع مختلفة**: مسطحة، حاويات، صهريج
- **تسجيل بالمحافظات**: تسجيل الشاحنات حسب المحافظة العراقية
- **نظام معرف فريد**: مبني على المحافظة ورقم اللوحة
- **إدارة الحالة**: نشط/غير نشط

### 5. إدارة السائقين (Drivers)
- **معلومات شاملة**: الاسم، رقم الهاتف، اسم الأم، المحافظة
- **التحقق من صحة البيانات**: للتأكد من صحة أرقام الهواتف
- **ربط بالمستخدمين**: كل سائق مرتبط بمستخدم معين
- **رقم الرخصة والهوية**: لتتبع الوثائق الرسمية

### 6. نظام الرحلات (Trips)
- **ربط شامل**: كل رحلة مرتبطة بإذن تسليم وحاويات
- **حالات متعددة**: قيد الانتظار، نشط، مكتمل، ملغي
- **تتبع زمني**: تاريخ البداية والنهاية
- **إكمال تلقائي**: عند انتهاء تاريخ صلاحية الإذن

### 7. لوحة التحكم والإحصائيات
- **إحصائيات شاملة**: لجميع العناصر (أذونات، حاويات، شاحنات، رحلات)
- **نشاط حديث**: عرض آخر الأنشطة والرحلات
- **إجراءات سريعة**: للوصول السريع للوظائف الأساسية
- **تحديث فوري**: للبيانات والإحصائيات

### 8. نظام التصدير والتقارير
- **تصدير Excel**: للرحلات والبيانات
- **تصدير PDF**: لتقارير مفصلة
- **تقارير مخصصة**: حسب الفترة الزمنية والحالة
- **تنسيق عربي**: مع دعم كامل للغة العربية

## التقنيات المستخدمة

### Backend
- **Django 4.2.11**: إطار العمل الرئيسي
- **SQLite**: قاعدة البيانات (مع إمكانية التبديل لـ PostgreSQL)
- **Django Widget Tweaks**: لتحسين الـ forms
- **Python-dotenv**: لإدارة متغيرات البيئة

### Frontend
- **Bootstrap**: للتصميم المتجاوب
- **FontAwesome**: للأيقونات
- **JavaScript**: للتفاعلية
- **CSS مخصص**: لتحسين التصميم

### مكتبات إضافية
- **Arabic-reshaper & Python-bidi**: لدعم اللغة العربية
- **XlsxWriter**: لتصدير Excel
- **Pillow**: لمعالجة الصور
- **WhiteNoise**: لخدمة الملفات الثابتة

## هيكل التطبيق

```
myproject/
├── myproject/          # إعدادات المشروع الرئيسية
├── users/              # تطبيق إدارة المستخدمين
├── port/               # تطبيق إدارة الموانئ (الوظائف الأساسية)
├── templates/          # قوالب HTML
├── static/            # ملفات CSS, JS, الخطوط
├── staticfiles/       # ملفات ثابتة للإنتاج
└── cache/             # ملفات التخزين المؤقت
```

## نماذج قاعدة البيانات

### 1. CustomUser
- المستخدم المخصص مع تسجيل دخول برقم الهاتف
- نظام أنواع المستخدمين والاشتراكات

### 2. Driver
- معلومات السائقين مع التحقق من البيانات
- ربط بالمحافظات العراقية

### 3. Truck
- تفاصيل الشاحنات مع نظام معرف فريد
- أنواع وحالات مختلفة

### 4. DeliveryOrder
- أذونات التسليم مع التواريخ والحالات
- إمكانية الربط بعدة حاويات

### 5. Container
- تفاصيل الحاويات مع الأنواع والأوزان
- ربط بالأذونات والسائقين والشاحنات

### 6. Trip
- الرحلات مع الربط الشامل بجميع العناصر
- نظام تتبع الحالة والوقت

## الواجهات الرئيسية

### 1. لوحة التحكم
- عرض شامل للإحصائيات
- نشاط حديث وإجراءات سريعة
- تحديث فوري للبيانات

### 2. إدارة الحاويات
- قائمة شاملة مع البحث والفلترة
- إضافة وتعديل بيانات الحاويات
- ربط بالأذونات والرحلات

### 3. إدارة الرحلات
- إنشاء رحلات جديدة
- تتبع حالة الرحلات
- تقارير مفصلة

### 4. التقارير والتصدير
- تقارير حسب الفترة والحالة
- تصدير بصيغ متعددة
- معاينة قبل التصدير

## المميزات التقنية

### 1. الأمان
- تشفير كلمات المرور
- حماية CSRF
- تحكم في الصلاحيات

### 2. الأداء
- نظام تخزين مؤقت
- استعلامات محسنة
- تحديث فوري للبيانات

### 3. قابلية التوسع
- هيكل معياري
- إمكانية إضافة ميزات جديدة
- دعم قواعد بيانات متعددة

### 4. سهولة الاستخدام
- واجهة عربية بالكامل
- تصميم متجاوب
- رسائل واضحة للمستخدم

## متطلبات التشغيل

### الحد الأدنى
- Python 3.8+
- Django 4.2+
- مساحة تخزين: 100MB
- ذاكرة: 512MB RAM

### للإنتاج
- خادم ويب (Nginx/Apache)
- قاعدة بيانات (PostgreSQL/MySQL)
- SSL Certificate
- نسخ احتياطية منتظمة

## التثبيت والتشغيل

### 1. تثبيت المتطلبات
```bash
pip install -r requirements.txt
```

### 2. إعداد قاعدة البيانات
```bash
python manage.py migrate
```

### 3. إنشاء مستخدم إدارة
```bash
python manage.py createsuperuser
```

### 4. تشغيل الخادم
```bash
python manage.py runserver
```

## الدعم والصيانة

### التحديثات
- تحديثات دورية للأمان
- إضافة ميزات جديدة
- تحسينات الأداء

### النسخ الاحتياطية
- نسخ احتياطية يومية للبيانات
- تصدير دوري للتقارير
- استعادة سريعة عند الحاجة

### الدعم الفني
- دليل المستخدم المفصل
- تدريب للمستخدمين الجدد
- دعم تقني مستمر

## خطط التطوير المستقبلية

### المرحلة القادمة
- تطبيق موبايل
- إشعارات فورية
- تتبع GPS للشاحنات

### الميزات المقترحة
- ذكاء اصطناعي لتحسين المسارات
- تحليلات متقدمة
- تكامل مع أنظمة خارجية

---

**ملاحظة**: هذا التطبيق مطور خصيصاً لبيئة العمل العراقية مع دعم كامل للغة العربية ومتطلبات الموانئ المحلية. 